{% extends "base.html" %}
{% load static %}

{% block title %}Login - HaleWay{% endblock %}

{% block content %}
<div class="auth-page">
    <div class="auth-container">
        <div class="auth-card">
            <!-- Header Section -->
            <div class="auth-header">
                <div class="auth-logo">
                    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24 4L6 14V22C6 32.5 12.84 42.24 24 44C35.16 42.24 42 32.5 42 22V14L24 4Z" fill="#2E86AB"/>
                        <path d="M24 12L12 18V22C12 28.48 16.24 34.44 24 36C31.76 34.44 36 28.48 36 22V18L24 12Z" fill="#A23B72"/>
                    </svg>
                </div>
                <h1 class="auth-title">Welcome back</h1>
                <p class="auth-subtitle">Sign in to continue planning your adventures</p>
            </div>

            <!-- Form Section -->
            <div class="auth-body">
                <form method="post" class="auth-form">
                    {% csrf_token %}

                    {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                    {% endif %}

                    <div class="form-group">
                        <label for="{{ form.username.id_for_label }}" class="form-label">
                            {{ form.username.label }}
                        </label>
                        <div class="input-wrapper">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10 10C12.21 10 14 8.21 14 6C14 3.79 12.21 2 10 2C7.79 2 6 3.79 6 6C6 8.21 7.79 10 10 10ZM10 12C7.33 12 2 13.34 2 16V18H18V16C18 13.34 12.67 12 10 12Z" fill="currentColor"/>
                            </svg>
                            {{ form.username }}
                        </div>
                        {% if form.username.errors %}
                            <div class="form-error">{{ form.username.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.password.id_for_label }}" class="form-label">
                            {{ form.password.label }}
                        </label>
                        <div class="input-wrapper">
                            <svg class="input-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M15 7H14V5C14 2.79 12.21 1 10 1C7.79 1 6 2.79 6 5V7H5C3.9 7 3 7.9 3 9V17C3 18.1 3.9 19 5 19H15C16.1 19 17 18.1 17 17V9C17 7.9 16.1 7 15 7ZM10 14C8.9 14 8 13.1 8 12C8 10.9 8.9 10 10 10C11.1 10 12 10.9 12 12C12 13.1 11.1 14 10 14ZM11.1 7H8.9V5C8.9 4.34 9.34 3.9 10 3.9C10.66 3.9 11.1 4.34 11.1 5V7Z" fill="currentColor"/>
                            </svg>
                            {{ form.password }}
                        </div>
                        {% if form.password.errors %}
                            <div class="form-error">{{ form.password.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-lg btn-block">
                            Sign In
                        </button>
                    </div>
                </form>
            </div>

            <!-- Footer Section -->
            <div class="auth-footer">
                <a href="{% url 'accounts:password_reset' %}" class="auth-link">Forgot your password?</a>
                <div class="auth-divider">
                    <span>New to HaleWay?</span>
                </div>
                <a href="{% url 'accounts:register' %}" class="btn btn-outline btn-block">
                    Create an account
                </a>
            </div>
        </div>

        <!-- Welcome Message -->
        <div class="auth-welcome">
            <h2>Plan. Explore. Remember.</h2>
            <p>Join families around the world who are creating unforgettable memories with HaleWay.</p>
            <div class="welcome-features">
                <div class="feature-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7V11C2 16.55 6.84 21.74 12 23C17.16 21.74 22 16.55 22 11V7L12 2Z" fill="currentColor"/>
                    </svg>
                    <span>Organize family trips</span>
                </div>
                <div class="feature-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 6H16V4C16 2.89 15.11 2 14 2H10C8.89 2 8 2.89 8 4V6H4C2.89 6 2.01 6.89 2.01 8L2 19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V8C22 6.89 21.11 6 20 6ZM10 4H14V6H10V4Z" fill="currentColor"/>
                    </svg>
                    <span>Track activities & budgets</span>
                </div>
                <div class="feature-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 3H3C1.9 3 1 3.9 1 5V19C1 20.1 1.9 21 3 21H21C22.1 21 23 20.1 23 19V5C23 3.9 22.1 3 21 3ZM21 19H3V5H21V19ZM8 15H10V17H8V15ZM8 11H10V13H8V11ZM8 7H10V9H8V7ZM14 15H16V17H14V15ZM14 11H16V13H14V11ZM14 7H16V9H14V7Z" fill="currentColor"/>
                    </svg>
                    <span>Preserve precious memories</span>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.auth-page {
    min-height: calc(100vh - 200px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-xl) var(--spacing-md);
    background: linear-gradient(135deg, rgba(46, 134, 171, 0.05) 0%, rgba(162, 59, 114, 0.05) 100%);
}

.auth-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-xxl);
    max-width: 1000px;
    width: 100%;
    align-items: center;
}

.auth-card {
    background: var(--white);
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 25px rgba(0, 0, 0, 0.08);
    overflow: hidden;
}

.auth-header {
    padding: var(--spacing-xxl) var(--spacing-xl) var(--spacing-lg);
    text-align: center;
    border-bottom: 1px solid var(--gray-200);
}

.auth-logo {
    margin: 0 auto var(--spacing-md);
    width: 48px;
    height: 48px;
}

.auth-title {
    margin: 0 0 var(--spacing-xs);
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--gray-900);
}

.auth-subtitle {
    margin: 0;
    color: var(--gray-600);
    font-size: 0.9375rem;
}

.auth-body {
    padding: var(--spacing-xl);
}

.auth-form {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

.input-wrapper {
    position: relative;
}

.input-icon {
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--gray-400);
    pointer-events: none;
}

.input-wrapper input {
    padding-left: 3rem;
}

.btn-block {
    width: 100%;
}

.auth-footer {
    padding: var(--spacing-lg) var(--spacing-xl) var(--spacing-xl);
    background: var(--gray-50);
    text-align: center;
}

.auth-link {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9375rem;
}

.auth-link:hover {
    text-decoration: underline;
}

.auth-divider {
    margin: var(--spacing-lg) 0;
    position: relative;
    text-align: center;
}

.auth-divider::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    top: 50%;
    height: 1px;
    background: var(--gray-300);
}

.auth-divider span {
    position: relative;
    background: var(--gray-50);
    padding: 0 var(--spacing-md);
    color: var(--gray-600);
    font-size: 0.875rem;
}

.auth-welcome {
    padding: var(--spacing-xxl);
    color: var(--gray-700);
}

.auth-welcome h2 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0 0 var(--spacing-md);
    line-height: 1.2;
}

.auth-welcome p {
    font-size: 1.125rem;
    color: var(--gray-600);
    margin: 0 0 var(--spacing-xl);
    line-height: 1.6;
}

.welcome-features {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.feature-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    background: var(--white);
    border-radius: var(--border-radius);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.feature-item svg {
    color: var(--primary-color);
    flex-shrink: 0;
}

.feature-item span {
    font-weight: 500;
    color: var(--gray-700);
}

/* Tablet */
@media (max-width: 992px) {
    .auth-container {
        grid-template-columns: 1fr;
        max-width: 480px;
    }

    .auth-welcome {
        order: -1;
        text-align: center;
        padding: var(--spacing-xl) var(--spacing-md);
    }

    .auth-welcome h2 {
        font-size: 1.5rem;
    }

    .auth-welcome p {
        font-size: 1rem;
    }

    .welcome-features {
        display: grid;
        grid-template-columns: 1fr;
        gap: var(--spacing-sm);
    }
}

/* Mobile */
@media (max-width: 576px) {
    .auth-page {
        padding: var(--spacing-md);
    }

    .auth-header {
        padding: var(--spacing-xl) var(--spacing-md) var(--spacing-md);
    }

    .auth-body {
        padding: var(--spacing-md);
    }

    .auth-footer {
        padding: var(--spacing-md);
    }

    .auth-title {
        font-size: 1.5rem;
    }

    .welcome-features {
        gap: var(--spacing-xs);
    }

    .feature-item {
        padding: var(--spacing-sm);
        font-size: 0.875rem;
    }
}
</style>
{% endblock %}
