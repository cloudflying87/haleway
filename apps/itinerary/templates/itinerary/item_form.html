{% extends "base.html" %}

{% block title %}{{ page_title }} - HaleWay{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>{{ page_title }}</h1>
    </div>

    <div class="form-container">
        <form method="post">
            {% csrf_token %}

            {% if form.errors %}
                <div class="alert alert-error">
                    <h4>Please correct the following errors:</h4>
                    {{ form.errors }}
                </div>
            {% endif %}

            <div class="form-section">
                <div class="form-group">
                    <label for="{{ form.date.id_for_label }}">{{ form.date.label }} *</label>
                    {{ form.date }}
                </div>

                <div class="form-group">
                    <label for="{{ form.activity.id_for_label }}">{{ form.activity.label }}</label>
                    {{ form.activity }}
                    <small class="form-text">Select an activity OR enter a custom title below</small>
                </div>

                <div class="form-group">
                    <label for="{{ form.title.id_for_label }}">{{ form.title.label }}</label>
                    {{ form.title }}
                    <small class="form-text">For custom events like "Breakfast" or "Free time"</small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.time_start.id_for_label }}">{{ form.time_start.label }}</label>
                        {{ form.time_start }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.time_end.id_for_label }}">{{ form.time_end.label }}</label>
                        {{ form.time_end }}
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.notes.id_for_label }}">{{ form.notes.label }}</label>
                    {{ form.notes }}
                </div>

                <div class="form-group">
                    <label for="{{ form.order.id_for_label }}">{{ form.order.label }}</label>
                    {{ form.order }}
                    <small class="form-text">{{ form.order.help_text }}</small>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save to Itinerary</button>
                <a href="{% url 'itinerary:calendar' trip.pk %}" class="btn btn-outline">Cancel</a>
            </div>
        </form>
    </div>
</div>

<style>
.form-container {
    max-width: 600px;
}

.form-section {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: var(--border-radius);
    padding: var(--spacing-lg);
    margin-bottom: var(--spacing-lg);
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-md);
}

.form-actions {
    display: flex;
    gap: var(--spacing-md);
}

.alert-error {
    background-color: #fee;
    border: 1px solid #fcc;
    border-radius: var(--border-radius);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-lg);
}
</style>
{% endblock %}
